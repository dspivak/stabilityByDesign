\documentclass[11pt, one side, article]{memoir}


\settrims{0pt}{0pt} % page and stock same size
\settypeblocksize{*}{36.1pc}{*} % {height}{width}{ratio}
\setlrmargins{*}{*}{1} % {spine}{edge}{ratio}
\setulmarginsandblock{.98in}{.98in}{*} % height of typeblock computed
\setheadfoot{\onelineskip}{2\onelineskip} % {headheight}{footskip}
\setheaderspaces{*}{1.5\onelineskip}{*} % {headdrop}{headsep}{ratio}
\checkandfixthelayout


\usepackage{amsthm}
\usepackage{mathtools}

\usepackage[inline]{enumitem}
\usepackage{ifthen}
\usepackage[utf8]{inputenc} %allows non-ascii in bib file
\usepackage{xcolor}

\usepackage[backend=biber, backref=true, maxbibnames = 10, style = alphabetic]{biblatex}
\usepackage[bookmarks=true, colorlinks=true, linkcolor=blue!50!black,
citecolor=orange!50!black, urlcolor=orange!50!black, pdfencoding=unicode]{hyperref}
\usepackage[capitalize]{cleveref}

\usepackage{tikz}

\usepackage{amssymb}
\usepackage{newpxtext}
\usepackage[varg,bigdelims]{newpxmath}
\usepackage{mathrsfs}
\usepackage{dutchcal}
\usepackage{fontawesome}
\usepackage{ebproof}
\usepackage{stmaryrd}
\usepackage{float}

% cleveref %
  \newcommand{\creflastconjunction}{, and\nobreakspace} % serial comma
  \crefformat{enumi}{\card#2#1#3}
  \crefalias{chapter}{section}


% biblatex %
  \addbibresource{Library20231216.bib} 


% hyperref %
  \hypersetup{final}

% enumitem %
  \setlist{nosep}
  \setlistdepth{6}



% tikz %



  \usetikzlibrary{ 
  	cd,
  	math,
  	decorations.markings,
		decorations.pathreplacing,
  	positioning,
  	arrows.meta,
  	shapes,
		shadows,
		shadings,
  	calc,
  	fit,
  	quotes,
  	intersections,
    circuits,
    circuits.ee.IEC
  }
  

\tikzset{
	tick/.style={postaction={
  	decorate,
    decoration={markings, mark=at position 0.5 with
    	{\draw[-] (0,.4ex) -- (0,-.4ex);}}}
  }
} 
\tikzset{
	slash/.style={postaction={
  	decorate,
    decoration={markings, mark=at position 0.5 with
    	{\node[font=\footnotesize] {\rotatebox{90}{$\sim$}};}}}
  }
} 

% Adjunctions
\newcommand{\adj}[5][30pt]{%[size] Cat L, Left, Right, Cat R.
\begin{tikzcd}[ampersand replacement=\&, column sep=#1]
  #2\ar[r, shift left=4.5pt, "#3"]
  \ar[r, phantom, "\scriptstyle\Rightarrow"]\&
  #5\ar[l, shift left=4.5pt, "#4"]
\end{tikzcd}
}

\newcommand{\adjr}[5][30pt]{%[size] Cat R, Right, Left, Cat L.
\begin{tikzcd}[ampersand replacement=\&, column sep=#1]
  #2\ar[r, shift left=7pt, "#3"]\&
  #5\ar[l, shift left=7pt, "#4"]
  \ar[l, phantom, "\scriptstyle\Leftarrow"]
\end{tikzcd}
}

\newcommand{\xtickar}[1]{\begin{tikzcd}[baseline=-0.5ex,cramped,sep=small,ampersand 
replacement=\&]{}\ar[r,tick, "{#1}"]\&{}\end{tikzcd}}

\newcommand{\xslashar}[1]{\begin{tikzcd}[baseline=-0.5ex,cramped,sep=small,ampersand 
replacement=\&]{}\ar[r,slash, "{#1}"]\&{}\end{tikzcd}}

 
  % amsthm %
\theoremstyle{definition}
\newtheorem{definitionx}{Definition}[chapter]
\newtheorem{examplex}[definitionx]{Example}
\newtheorem{remarkx}[definitionx]{Remark}
\newtheorem{notation}[definitionx]{Notation}


\theoremstyle{plain}

\newtheorem{theorem}[definitionx]{Theorem}
\newtheorem{proposition}[definitionx]{Proposition}
\newtheorem{corollary}[definitionx]{Corollary}
\newtheorem{lemma}[definitionx]{Lemma}
\newtheorem{warning}[definitionx]{Warning}
\newtheorem{conjecture}[definitionx]{Conjecture}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{warning*}{Warning}
%\theoremstyle{definition}
%\newtheorem{definition}[theorem]{Definition}
%\newtheorem{construction}[theorem]{Construction}

\newenvironment{example}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\examplex}
  {\popQED\endexamplex}
  
 \newenvironment{remark}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\remarkx}
  {\popQED\endremarkx}
  
  \newenvironment{definition}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{$\lozenge$}\definitionx}
  {\popQED\enddefinitionx} 

    
%-------- Single symbols --------%
	
\DeclareSymbolFont{stmry}{U}{stmry}{m}{n}
\DeclareMathSymbol\fatsemi\mathop{stmry}{"23}

\DeclareFontFamily{U}{mathx}{\hyphenchar\font45}
\DeclareFontShape{U}{mathx}{m}{n}{
      <5> <6> <7> <8> <9> <10>
      <10.95> <12> <14.4> <17.28> <20.74> <24.88>
      mathx10
      }{}
\DeclareSymbolFont{mathx}{U}{mathx}{m}{n}
\DeclareFontSubstitution{U}{mathx}{m}{n}
\DeclareMathAccent{\widecheck}{0}{mathx}{"71}

%-------- Tikz diagrams --------%

\tikzset{
	oriented WD/.style={%everything after equals replaces "oriented WD" in key.
		every to/.style={out=0,in=180,draw},
    label/.style={
    	font=\everymath\expandafter{\the\everymath\scriptstyle},
      inner sep=0pt,
      node distance=2pt and -2pt},
    semithick,
    node distance=1 and 1,
    decoration={markings, mark=at position \stringdecpos with \stringdec},
    ar/.style={postaction={decorate}},
    execute at begin picture={\tikzset{
    	x=\bbx, y=\bby,
      every fit/.style={inner xsep=\bbx, inner ysep=\bby}}}
    },
    string decoration/.store in=\stringdec,
    string decoration={\arrow{stealth};},
    string decoration pos/.store in=\stringdecpos,
    string decoration pos=.7,
    bbx/.store in=\bbx,
    bbx = 1.5cm,
    bby/.store in=\bby,
    bby = 1.5ex,
    bb port sep/.store in=\bbportsep,
    bb port sep=1.5,
    % bb wire sep/.store in=\bbwiresep,
    % bb wire sep=1.75ex,
    bb port length/.store in=\bbportlen,
    bb port length=4pt,
    bb penetrate/.store in=\bbpenetrate,
    bb penetrate=0,
    bb min width/.store in=\bbminwidth,
    bb min width=1cm,
    bb rounded corners/.store in=\bbcorners,
    bb rounded corners=2pt,
    bb spider/.style={
    	bb port sep=1, bb port length=10pt, bbx=.4cm, bb min width=.4cm, bby=.8ex},
    bb small/.style={
    	bb port sep=1, bb port length=2.5pt, bbx=.4cm, bb min width=.4cm, bby=.7ex},
		bb medium/.style={
			bb port sep=1, bb port length=2.5pt, bbx=.4cm, bb min width=.4cm, bby=.9ex},
    bb/.code 2 args={%When you see this key, run the code below:
    	\pgfmathsetlengthmacro{\bbheight}{\bbportsep * (max(#1,#2)+1) * \bby}
      \pgfkeysalso{draw,minimum height=\bbheight,minimum
       width=\bbminwidth,outer sep=0pt,
         rounded corners=\bbcorners,thick,
         prefix after command={\pgfextra{\let\fixname\tikzlastnode}},
         append after command={\pgfextra{\draw
            \ifnum #1=0{} \else foreach \i in {1,...,#1} {
            	($(\fixname.north west)!{\i/(#1+1)}!(\fixname.south west)$) +(-\bbportlen,0) coordinate (\fixname_in\i) -- +(\bbpenetrate,0) coordinate (\fixname_in\i')}\fi 
  					%Define the endpoints of tickmarks
            \ifnum #2=0{} \else foreach \i in {1,...,#2} {
            	($(\fixname.north east)!{\i/(#2+1)}!(\fixname.south east)$) +(-
\bbpenetrate,0) coordinate (\fixname_out\i') -- +(\bbportlen,0) coordinate (\fixname_out\i)}\fi;
           }}}
		},
			bb name/.style={
     	append after command={
				\pgfextra{\node[anchor=north] at (\fixname.north) {#1};}
			}
		}
  }


%-------- Renewed commands --------%

\renewcommand{\ss}{\subseteq}

%-------- Other Macros --------%


\DeclarePairedDelimiter{\present}{\langle}{\rangle}
\DeclarePairedDelimiter{\copair}{[}{]}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\corners}{\ulcorner}{\urcorner}
\DeclarePairedDelimiter{\ihom}{[}{]}

\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Mor}{Mor}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\cod}{cod}
\DeclareMathOperator{\idy}{idy}
\DeclareMathOperator{\comp}{com}
\DeclareMathOperator*{\colim}{colim}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\ob}{Ob}
\DeclareMathOperator{\Tr}{Tr}
\DeclareMathOperator{\el}{El}
\DeclareMathOperator{\Funn}{Fun}
\DeclareMathOperator{\constt}{const}


\newcommand{\tw}{\Cat{Tw}}

\newcommand{\const}[1]{\texttt{#1}}%a constant, or named element of a set
\newcommand{\Set}[1]{\mathsf{#1}}%a named set
\newcommand{\ord}[1]{\mathsf{#1}}%an ordinal
\newcommand{\cat}[1]{\mathcal{#1}}%a generic category
\newcommand{\Cat}[1]{\mathbf{#1}}%a named category
\newcommand{\fun}[1]{\mathrm{#1}}%a function
\newcommand{\Fun}[1]{\mathit{#1}}%a named functor




\newcommand{\id}{\mathrm{id}}
\newcommand{\then}{\mathbin{\fatsemi}}

\newcommand{\cocolon}{:\!}


\newcommand{\iso}{\cong}
\newcommand{\too}{\longrightarrow}
\newcommand{\tto}{\rightrightarrows}
\newcommand{\To}[2][]{\xrightarrow[#1]{#2}}
\renewcommand{\Mapsto}[1]{\xmapsto{#1}}
\newcommand{\Tto}[3][13pt]{\begin{tikzcd}[sep=#1, cramped, ampersand replacement=\&, text height=1ex, text depth=.3ex]\ar[r, shift left=2pt, "#2"]\ar[r, shift right=2pt, "#3"']\&{}\end{tikzcd}}
\newcommand{\Too}[1]{\xrightarrow{\;\;#1\;\;}}
\newcommand{\from}{\leftarrow}
\newcommand{\fromm}{\longleftarrow}
\newcommand{\ffrom}{\leftleftarrows}
\newcommand{\From}[1]{\xleftarrow{#1}}
\newcommand{\Fromm}[1]{\xleftarrow{\;\;#1\;\;}}
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\inj}{\rightarrowtail}
\newcommand{\wavyto}{\rightsquigarrow}
\newcommand{\lollipop}{\multimap}
\newcommand{\imp}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\down}{\mathbin{\downarrow}}
\newcommand{\fromto}{\leftrightarrows}
\newcommand{\tickar}{\xtickar{}}
\newcommand{\slashar}{\xslashar{}}
\newcommand{\card}{\,^{\#}}

\newcommand{\rdag}{^{\rotatebox{0}{$\dagger$}}}
\newcommand{\ldag}{^{\rotatebox{180}{$\dagger$}}}

\newcommand{\inv}{^{-1}}
\newcommand{\op}{^\tn{op}}

\newcommand{\tn}[1]{\textnormal{#1}}
\newcommand{\ol}[1]{\overline{#1}}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\wt}[1]{\widetilde{#1}}
\newcommand{\wh}[1]{\widehat{#1}}
\newcommand{\wc}[1]{\widecheck{#1}}
\newcommand{\ubar}[1]{\underaccent{\bar}{#1}}



\newcommand{\bb}{\mathbb{B}}
\newcommand{\cc}{\mathbb{C}}
\newcommand{\nn}{\mathbb{N}}
\newcommand{\pp}{\mathbb{P}}
\newcommand{\qq}{\mathbb{Q}}
\newcommand{\zz}{\mathbb{Z}}
\newcommand{\rr}{\mathbb{R}}


\newcommand{\finset}{\Cat{Fin}}
\newcommand{\smset}{\Cat{Set}}
\newcommand{\lgset}{\Cat{SET}}
\newcommand{\smcat}{\Cat{Cat}}
\newcommand{\lgcat}{\Cat{CAT}}
\newcommand{\prof}{\mathbb{P}\Cat{rof}}
\newcommand{\catsharp}{\Cat{Cat}^{\sharp}}
\newcommand{\ppolyfun}{\mathbb{P}\Cat{olyFun}}
\newcommand{\ccatsharp}{\mathbb{C}\Cat{at}^{\sharp}}
\newcommand{\ccatsharpdisc}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{disc}}}
\newcommand{\ccatsharplin}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{lin}}}
\newcommand{\ccatsharpdisccon}{\mathbb{C}\Cat{at}^{\sharp}_{\tn{disc,con}}}
\newcommand{\sspan}{\mathbb{S}\Cat{pan}}
\newcommand{\en}{\Cat{End}}

\newcommand{\set}{\tn{-}\Cat{Set}}
\newcommand{\coalg}{\tn{-}\Cat{Coalg}}


\newcommand{\rest}[2]{#1\big|_{#2}}


\newcommand{\slogan}[1]{\begin{center}\textit{#1}\end{center}}

\newcommand{\qand}{\quad\text{and}\quad}
\newcommand{\qqand}{\qquad\text{and}\qquad}
\newcommand{\dnote}[1]{{\color{blue}David says:}~#1\quad{\color{blue}$\lozenge$}}


% David extras




\newcommand{\andreapic}{
  \begin{tikzpicture}[oriented WD, bb min width =.7cm, bby=1.6ex, bbx=.7cm,bb port length=0pt] 
    \node[bb port sep=.8, bb={2}{1}, bb name=$\Sigma$] (Sigma1) {};
    \node[bb port sep=1.6,bb min width=4.3em, bb={2}{3}, below right=-2.5 and 1.5 of Sigma1.south east, bb name=Chassis] (Chassis) {};
    \node[bb port sep=.9,bb min width=4.3em, bb={2}{4}, below right=-3 and 2 of Chassis_out2, bb name=Motor] (Motor) {};
  	\node[bb port sep=.8, bb={2}{1}, right=1.5 of Motor.south east, bb name=$\Sigma$] (Sigma2) {};
    \node[bb={0}{0}, fit={($(Sigma1.north west)+(-.5,1)$) (Chassis) (Motor) ($(Sigma2.east)+(.25,0)$)}] (Y) {};
    \coordinate (Y_in1) at (Sigma1_in2-|Y.west);
    \coordinate (Y_in2) at (Chassis_in2-|Y.west);
    \coordinate (Y_out1) at (Motor_out2-|Y.east);
    \coordinate (Y_out2) at (Motor_out3-|Y.east);
    \coordinate (Y_out3) at (Sigma2_out1-|Y.east);
    \draw[ar] (Y_in1) to node[above=0pt, font=\tiny] {} (Sigma1_in2);
    \draw[ar] (Y_in2) to node[above=0pt, font=\tiny] {} (Chassis_in2);
    \draw[ar] (Sigma1_out1) to node[above=0pt, font=\tiny] {Weight} (Chassis_in1);
    \draw[ar] (Chassis_out1) to node[above=0pt, font=\tiny] {Torque} (Motor_in1);
    \draw[ar] (Chassis_out2) to node[above=0pt, font=\tiny] {Speed} (Motor_in2);
    \draw[ar] let \p1=(Motor.south west), \p2=(Motor.south east), \n1={\y1-\bby},\n2=\bbportlen in
    	(Chassis_out3) to node[above=0pt, font=\tiny] {Cost} (\x1-\n2,\n1) -- (\x2+\n2,\n1) to (Sigma2_in2);
    \draw[ar] (Motor_out2) to node[above=0pt, font=\tiny, pos=.8] {} (Y_out1);
    \draw[ar] (Motor_out4) to node[above=0pt, font=\tiny] {Cost} (Sigma2_in1);
    \draw[ar] (Motor_out3) to node[below=0pt, font=\tiny, pos=.8] {} (Y_out2);
    \draw[ar] (Sigma2_out1) to node[below=0pt, font=\tiny] {} (Y_out3); 
    \draw[ar] let \p1=(Motor.north east), \p2=(Sigma1.north west), \n1={\y2+\bby},\n2=\bbportlen in
    	(Motor_out1) to[in=0] node[right=0pt, font=\tiny] {Motor Weight} (\x1+\n2,\n1) -- (\x2-\n2,\n1) to[out=180] (Sigma1_in1);
  	\draw[label]
  		node[left=.3 of Y_in1] {\footnotesize Extra payload}
  		node[left=.3 of Y_in2] {\footnotesize Velocity}
  		node[right=.3 of Y_out1] {\footnotesize Voltage}
  		node[right=.3 of Y_out2] {\footnotesize Current}
  		node[right=.3 of Y_out3] {\footnotesize Cost \$}
%  		node[above right=.2 and .3 of Chassis_out1] {\tiny Torque}
%  		node[above right=.2 and .3 of Chassis_out2] {\tiny Speed}
%  		node[above right=.2 and .3 of Chassis_out3] {\tiny Cost \$}
%  		node[above right=.3 and .3 of Motor_out1, align=center, font=\tiny] {Motor\\weight}
	;	
  \end{tikzpicture}
}


\newcommand{\rrpos}{\rr_{+}}
\newcommand{\rrnon}{\rr_{\geq 0}}
\newcommand{\K}{\cat{K}}
\newcommand{\Kdag}[1][0]{\K^{\rotatebox{180}{$\dagger$}}}



% Aaron extras



%Paulo extras








% ---- Changeable document parameters ---- %

\linespread{1.1}
\allowdisplaybreaks
\setsecnumdepth{section}
\settocdepth{section}
\setlength{\parindent}{15pt}

\settocdepth{chapter}

%--------------- Document ---------------%
\begin{document}

\title{Stability by co-design}

\author{
  Aaron Ames \and  \and 
  David I. Spivak \and\and 
  Paulo Tabuada}

\date{\vspace{-.2in}}

\maketitle

\begin{abstract}
\end{abstract}

%\renewcommand\cftchapteraftersnumb{\normalfont}
\renewcommand\cftbeforechapterskip{2pt plus 1pt}

%\begin{KeepFromToc}
%\tableofcontents
%\end{KeepFromToc}



\chapter{Introduction}
\label{chap.intro}

Lyapunov's notion of stability-by-comparison serves as the mathematical foundation of the control-theoretic perspective on dynamical systems. Category theory offers rich theory in which to account for any well-defined sort of comparison.

In \cite{censi2015mathematical}, Andrea Censi used category theory to explain a theory of \emph{feasibility}, as exemplified in the practice of collaborative engineering design problems. For example, the feasibility of a robot---consisting of a chassis, a motor, and a battery---was considered in terms of traced monoidal categories. In their introductory book  \cite{fong2019seven} originally titled \emph{Seven Sketches}, Fong and Spivak offered a pedagogical account
\begin{equation}\label{eqn.andreadavidbrendan}\tag{Andrea}
	\andreapic
\end{equation}
of feasibility theory in terms of boolean profunctors. 

In this paper, we use the mathematics behind co-design---the (Cartesian) monoidal equipment of \emph{boolean-enriched categories}---to recast Lyapunov's approach to stability. This paper will be concise but self-contained for those acquainted with the ``big-3 of category theory'', \emph{categories}, \emph{functors}, and \emph{natural transformations}. 

**

\subsection{Natural Stability}

Lyapunov gave what turns out to be a beautiful categorical account of stability, though he did not know category theory. What he did know was that comparing dynamical systems---especially to the simplest ones---would offer a way to account for intuitions about energy in mathematical terms. 

\dnote{(Expert Fill:) background on stability, comparing systems, and energy}


\paragraph{Class $\K$ functions in analysis.}

\subsection{The simplest systems, from $\K$ to $\Kdag$}

\subsection{Lyapunov in terms of boolean profunctors}

\subsection{Plan of the paper}

Continuity, 
uniform continuity, 
stability, and
class $\Kdag$-stability.

\subsection*{Acknowledgments}



\chapter{Basic stability theory and boolean profunctor theory}
\label{chap.stability_and_profunctors}

\chapter{Continuity by co-design (boolean profunctors)}
\label{}

\chapter{Adjoint endofunctors of $(\rrnon,\geq)$ as simple systems}
\label{}

\chapter{Classical and $\Kdag$-stability by co-design}
\label{}





\end{document}
